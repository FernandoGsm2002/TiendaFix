/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/repairs/[id]/route";
exports.ids = ["app/api/repairs/[id]/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frepairs%2F%5Bid%5D%2Froute&page=%2Fapi%2Frepairs%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frepairs%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frepairs%2F%5Bid%5D%2Froute&page=%2Fapi%2Frepairs%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frepairs%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Fernando_Desktop_TiendaFix_Web_app_api_repairs_id_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/repairs/[id]/route.ts */ \"(rsc)/./app/api/repairs/[id]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/repairs/[id]/route\",\n        pathname: \"/api/repairs/[id]\",\n        filename: \"route\",\n        bundlePath: \"app/api/repairs/[id]/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Fernando\\\\Desktop\\\\TiendaFix-Web\\\\app\\\\api\\\\repairs\\\\[id]\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Fernando_Desktop_TiendaFix_Web_app_api_repairs_id_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/repairs/[id]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZXBhaXJzJTJGJTVCaWQlNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnJlcGFpcnMlMkYlNUJpZCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnJlcGFpcnMlMkYlNUJpZCU1RCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNGZXJuYW5kbyU1Q0Rlc2t0b3AlNUNUaWVuZGFGaXgtV2ViJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNGZXJuYW5kbyU1Q0Rlc2t0b3AlNUNUaWVuZGFGaXgtV2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzhCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGllbmRhZml4LXdlYi8/OWZiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxGZXJuYW5kb1xcXFxEZXNrdG9wXFxcXFRpZW5kYUZpeC1XZWJcXFxcYXBwXFxcXGFwaVxcXFxyZXBhaXJzXFxcXFtpZF1cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3JlcGFpcnMvW2lkXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3JlcGFpcnMvW2lkXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcmVwYWlycy9baWRdL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcRmVybmFuZG9cXFxcRGVza3RvcFxcXFxUaWVuZGFGaXgtV2ViXFxcXGFwcFxcXFxhcGlcXFxccmVwYWlyc1xcXFxbaWRdXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3JlcGFpcnMvW2lkXS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frepairs%2F%5Bid%5D%2Froute&page=%2Fapi%2Frepairs%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frepairs%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/repairs/[id]/route.ts":
/*!***************************************!*\
  !*** ./app/api/repairs/[id]/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/@supabase/ssr/dist/index.mjs\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/headers.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_headers__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst createSupabaseClient = (cookieStore)=>{\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_1__.createServerClient)(\"https://hdqhdijirmfmgtbhqpjq.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcWhkaWppcm1mbWd0YmhxcGpxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NzE2MzMsImV4cCI6MjA2NjM0NzYzM30.5uMXS_m808SWP__wHFTqEB1yiksTxvn3ZZcVBib_s34\", {\n        cookies: {\n            get (name) {\n                return cookieStore.get(name)?.value;\n            },\n            set (name, value, options) {\n                cookieStore.set(name, value, options);\n            },\n            remove (name, options) {\n                cookieStore.delete(name, options);\n            }\n        }\n    });\n};\n// GET - Obtener reparaci√≥n por ID\nasync function GET(request, { params }) {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    const supabase = createSupabaseClient(cookieStore);\n    const repairId = params.id;\n    try {\n        console.log(\"\\uD83D\\uDD27 Getting repair by ID:\", params.id);\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { data: organizationId, error: orgError } = await supabase.rpc(\"get_user_org_id\");\n        if (orgError || !organizationId) {\n            console.error(\"Could not retrieve organization for user:\", orgError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Organization not found for user.\"\n            }, {\n                status: 403\n            });\n        }\n        const { data: repair, error } = await supabase.from(\"repairs\").select(`\r\n        id, title, description, problem_description, solution_description, \r\n        status, priority, estimated_cost, final_cost,\r\n        estimated_completion_date, actual_completion_date, received_date, delivered_date,\r\n        warranty_days, internal_notes, customer_notes,\r\n        created_at, updated_at,\r\n        customers(id, name, email, phone, anonymous_identifier, customer_type),\r\n        devices(id, brand, model, device_type, serial_number, imei, color),\r\n        users!repairs_created_by_fkey(id, name, email)\r\n      `).eq(\"id\", repairId).eq(\"organization_id\", organizationId).single();\n        if (error) {\n            console.error(\"\\uD83D\\uDEA8 Error fetching repair:\", error);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Reparaci\\xf3n no encontrada\",\n                details: error.message\n            }, {\n                status: 404\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: repair\n        });\n    } catch (error) {\n        console.error(\"\\uD83D\\uDEA8 Get repair error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Error interno del servidor\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PUT - Actualizar reparaci√≥n\nasync function PUT(request, { params }) {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    const supabase = createSupabaseClient(cookieStore);\n    const repairId = params.id;\n    try {\n        console.log(\"\\uD83D\\uDD27 Updating repair:\", params.id);\n        const body = await request.json();\n        // Obtener el usuario autenticado\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Obtener la organizaci√≥n y el ID de perfil del usuario via RPC\n        const [{ data: organizationId, error: orgError }, { data: profileId, error: profileError }] = await Promise.all([\n            supabase.rpc(\"get_user_org_id\"),\n            supabase.rpc(\"get_user_profile_id\")\n        ]);\n        if (orgError || !organizationId) {\n            console.error(\"Could not retrieve organization for user:\", orgError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Organization not found for user.\"\n            }, {\n                status: 403\n            });\n        }\n        if (profileError || !profileId) {\n            console.error(\"Could not retrieve profile ID for user:\", profileError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"User profile not found.\"\n            }, {\n                status: 403\n            });\n        }\n        // Obtener estado actual de la reparaci√≥n antes de actualizar\n        const { data: currentRepair, error: fetchError } = await supabase.from(\"repairs\").select(\"status, customer_id, estimated_cost, final_cost, title, device_id\").eq(\"id\", repairId).single();\n        if (fetchError) {\n            console.error(\"\\uD83D\\uDEA8 Error fetching current repair state:\", fetchError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"No se pudo encontrar la reparaci\\xf3n a actualizar\"\n            }, {\n                status: 404\n            });\n        }\n        let updateData = {\n            updated_at: new Date().toISOString()\n        };\n        // Caso 1: Actualizaci√≥n parcial de estado\n        if (body.status && Object.keys(body).length === 1) {\n            console.log(\"\\uD83D\\uDD04 Performing partial status update to:\", body.status);\n            updateData.status = body.status;\n        } else {\n            console.log(\"\\uD83D\\uDCDD Performing full form update\");\n            // Validaciones para actualizaci√≥n completa\n            if (!body.title || !body.problem_description) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"T\\xedtulo y descripci\\xf3n del problema son obligatorios para una actualizaci\\xf3n completa\"\n                }, {\n                    status: 400\n                });\n            }\n            // Construir objeto de actualizaci√≥n completa\n            updateData = {\n                ...updateData,\n                title: body.title,\n                description: body.description,\n                problem_description: body.problem_description,\n                solution_description: body.solution_description,\n                status: body.status,\n                priority: body.priority,\n                estimated_cost: body.estimated_cost,\n                final_cost: body.final_cost,\n                estimated_completion_date: body.estimated_completion_date,\n                warranty_days: body.warranty_days,\n                internal_notes: body.internal_notes,\n                customer_notes: body.customer_notes\n            };\n        }\n        // L√≥gica de fechas para ciertos estados\n        if (updateData.status === \"completed\" || updateData.status === \"delivered\") {\n            updateData.actual_completion_date = body.actual_completion_date || new Date().toISOString();\n        }\n        if (updateData.status === \"delivered\") {\n            updateData.delivered_date = body.delivered_date || new Date().toISOString();\n        }\n        const { data: repair, error } = await supabase.from(\"repairs\").update(updateData).eq(\"id\", repairId).eq(\"organization_id\", organizationId).select().single();\n        if (error) {\n            console.error(\"\\uD83D\\uDEA8 Error updating repair:\", error);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Error al actualizar la reparaci\\xf3n\",\n                details: error.message\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"‚úÖ Repair updated successfully:\", repair.id);\n        const newStatus = body.status || updateData.status;\n        // Actualizar estado del dispositivo asociado\n        if (currentRepair.device_id && newStatus) {\n            let deviceStatus;\n            switch(newStatus){\n                case \"received\":\n                case \"pending\":\n                case \"diagnosed\":\n                case \"in_progress\":\n                    deviceStatus = \"in_repair\";\n                    break;\n                case \"waiting_parts\":\n                    deviceStatus = \"awaiting_parts\";\n                    break;\n                case \"completed\":\n                    deviceStatus = \"ready_for_pickup\";\n                    break;\n                case \"delivered\":\n                    deviceStatus = \"delivered\";\n                    break;\n                case \"cannot_be_repaired\":\n                case \"cancelled\":\n                    deviceStatus = \"irreparable\";\n                    break;\n                default:\n                    deviceStatus = null; // No cambiar el estado del dispositivo\n            }\n            if (deviceStatus) {\n                const { error: deviceUpdateError } = await supabase.from(\"devices\").update({\n                    status: deviceStatus\n                }).eq(\"id\", currentRepair.device_id);\n                if (deviceUpdateError) {\n                    console.error(\"\\uD83D\\uDEA8 Error updating device status:\", deviceUpdateError);\n                // No bloqueamos la respuesta por esto, pero es importante registrarlo\n                } else {\n                    console.log(`üîÑ Device ${currentRepair.device_id} status updated to ${deviceStatus}`);\n                }\n            }\n        }\n        // Si la reparaci√≥n se acaba de marcar como 'completed', registrar la venta.\n        if (newStatus === \"completed\" && currentRepair.status !== \"completed\") {\n            const finalCost = body.final_cost || currentRepair.final_cost || currentRepair.estimated_cost || 0;\n            console.log(`[SalesLog] Checking repair ${repair.id}. Status changed from ${currentRepair.status} to ${newStatus}.`);\n            console.log(`[SalesLog] Calculated final cost: ${finalCost}. (Body: ${body.final_cost}, Current: ${currentRepair.final_cost}, Estimated: ${currentRepair.estimated_cost})`);\n            if (finalCost > 0) {\n                console.log(`[SalesLog] Cost is positive. Creating a sales record for ${finalCost}...`);\n                const saleData = {\n                    organization_id: organizationId,\n                    customer_id: currentRepair.customer_id,\n                    created_by: profileId,\n                    total: finalCost,\n                    payment_method: \"other\",\n                    sale_type: \"service\",\n                    notes: `Ingreso por Reparaci√≥n #${repair.id}: ${currentRepair.title || \"\"}`.trim()\n                };\n                console.log(\"[SalesLog] Sales data to be inserted:\", saleData);\n                const { error: saleError } = await supabase.from(\"sales\").insert(saleData);\n                if (saleError) {\n                    console.error(\"\\uD83D\\uDEA8 [SalesLog] Error creating sales record for repair:\", saleError);\n                // No devolvemos un error aqu√≠ para no bloquear la actualizaci√≥n de la reparaci√≥n,\n                // pero lo registramos para poder depurarlo.\n                } else {\n                    console.log(`üí∞ [SalesLog] Sales record created successfully for repair ${repair.id}.`);\n                }\n            } else {\n                console.log(`[SalesLog] Cost is 0 or less. No sales record will be created.`);\n            }\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: repair\n        });\n    } catch (error) {\n        console.error(\"\\uD83D\\uDEA8 Update repair error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Error interno del servidor\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// DELETE - Eliminar reparaci√≥n\nasync function DELETE(request, { params }) {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    const supabase = createSupabaseClient(cookieStore);\n    const repairId = params.id;\n    try {\n        console.log(\"\\uD83D\\uDD27 Deleting repair:\", params.id);\n        // Obtener el usuario autenticado\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Obtener la organizaci√≥n del usuario via RPC\n        const { data: organizationId, error: orgError } = await supabase.rpc(\"get_user_org_id\");\n        if (orgError || !organizationId) {\n            console.error(\"Could not retrieve organization for user:\", orgError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Organization not found for user.\"\n            }, {\n                status: 403\n            });\n        }\n        const { error } = await supabase.from(\"repairs\").delete().eq(\"id\", repairId).eq(\"organization_id\", organizationId);\n        if (error) {\n            console.error(\"\\uD83D\\uDEA8 Error deleting repair:\", error);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Error al eliminar la reparaci\\xf3n\",\n                details: error.message\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"‚úÖ Repair deleted successfully:\", repairId);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: \"Reparaci\\xf3n eliminada\"\n        });\n    } catch (error) {\n        console.error(\"\\uD83D\\uDEA8 Delete repair error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Error interno del servidor\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxDQUN0QjtZQUFFQyxPQUFPO1lBQThCVSxTQUFTVixpQkFBaUJhLFFBQVFiLE1BQU1XLE9BQU8sR0FBRztRQUFnQixHQUN6RztZQUFFVixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3RpZW5kYWZpeC13ZWIvLi9hcHAvYXBpL3JlcGFpcnMvW2lkXS9yb3V0ZS50cz8zNWE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJ1xyXG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJ1xyXG5cclxuY29uc3QgY3JlYXRlU3VwYWJhc2VDbGllbnQgPSAoY29va2llU3RvcmU6IGFueSkgPT4ge1xyXG4gIHJldHVybiBjcmVhdGVTZXJ2ZXJDbGllbnQoXHJcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxyXG4gICAge1xyXG4gICAgICBjb29raWVzOiB7XHJcbiAgICAgICAgZ2V0KG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZVN0b3JlLmdldChuYW1lKT8udmFsdWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIG9wdGlvbnM6IGFueSkge1xyXG4gICAgICAgICAgY29va2llU3RvcmUuc2V0KG5hbWUsIHZhbHVlLCBvcHRpb25zKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVtb3ZlKG5hbWU6IHN0cmluZywgb3B0aW9uczogYW55KSB7XHJcbiAgICAgICAgICBjb29raWVTdG9yZS5kZWxldGUobmFtZSwgb3B0aW9ucylcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gIClcclxufVxyXG5cclxuLy8gR0VUIC0gT2J0ZW5lciByZXBhcmFjacOzbiBwb3IgSURcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxyXG4pIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKVxyXG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlU3VwYWJhc2VDbGllbnQoY29va2llU3RvcmUpXHJcbiAgY29uc3QgcmVwYWlySWQgPSBwYXJhbXMuaWRcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5SnIEdldHRpbmcgcmVwYWlyIGJ5IElEOicsIHBhcmFtcy5pZClcclxuICAgIFxyXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YTogb3JnYW5pemF0aW9uSWQsIGVycm9yOiBvcmdFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdnZXRfdXNlcl9vcmdfaWQnKVxyXG5cclxuICAgIGlmIChvcmdFcnJvciB8fCAhb3JnYW5pemF0aW9uSWQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IHJldHJpZXZlIG9yZ2FuaXphdGlvbiBmb3IgdXNlcjonLCBvcmdFcnJvcilcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdPcmdhbml6YXRpb24gbm90IGZvdW5kIGZvciB1c2VyLicgfSwgeyBzdGF0dXM6IDQwMyB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YTogcmVwYWlyLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3JlcGFpcnMnKVxyXG4gICAgICAuc2VsZWN0KGBcclxuICAgICAgICBpZCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBwcm9ibGVtX2Rlc2NyaXB0aW9uLCBzb2x1dGlvbl9kZXNjcmlwdGlvbiwgXHJcbiAgICAgICAgc3RhdHVzLCBwcmlvcml0eSwgZXN0aW1hdGVkX2Nvc3QsIGZpbmFsX2Nvc3QsXHJcbiAgICAgICAgZXN0aW1hdGVkX2NvbXBsZXRpb25fZGF0ZSwgYWN0dWFsX2NvbXBsZXRpb25fZGF0ZSwgcmVjZWl2ZWRfZGF0ZSwgZGVsaXZlcmVkX2RhdGUsXHJcbiAgICAgICAgd2FycmFudHlfZGF5cywgaW50ZXJuYWxfbm90ZXMsIGN1c3RvbWVyX25vdGVzLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQsXHJcbiAgICAgICAgY3VzdG9tZXJzKGlkLCBuYW1lLCBlbWFpbCwgcGhvbmUsIGFub255bW91c19pZGVudGlmaWVyLCBjdXN0b21lcl90eXBlKSxcclxuICAgICAgICBkZXZpY2VzKGlkLCBicmFuZCwgbW9kZWwsIGRldmljZV90eXBlLCBzZXJpYWxfbnVtYmVyLCBpbWVpLCBjb2xvciksXHJcbiAgICAgICAgdXNlcnMhcmVwYWlyc19jcmVhdGVkX2J5X2ZrZXkoaWQsIG5hbWUsIGVtYWlsKVxyXG4gICAgICBgKVxyXG4gICAgICAuZXEoJ2lkJywgcmVwYWlySWQpXHJcbiAgICAgIC5lcSgnb3JnYW5pemF0aW9uX2lkJywgb3JnYW5pemF0aW9uSWQpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfwn5qoIEVycm9yIGZldGNoaW5nIHJlcGFpcjonLCBlcnJvcilcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdSZXBhcmFjacOzbiBubyBlbmNvbnRyYWRhJywgZGV0YWlsczogZXJyb3IubWVzc2FnZSB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YTogcmVwYWlyXHJcbiAgICB9KVxyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign8J+aqCBHZXQgcmVwYWlyIGVycm9yOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InLCBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbi8vIFBVVCAtIEFjdHVhbGl6YXIgcmVwYXJhY2nDs25cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxyXG4pIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKVxyXG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlU3VwYWJhc2VDbGllbnQoY29va2llU3RvcmUpXHJcbiAgY29uc3QgcmVwYWlySWQgPSBwYXJhbXMuaWRcclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ/CflKcgVXBkYXRpbmcgcmVwYWlyOicsIHBhcmFtcy5pZClcclxuICAgIFxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXHJcbiAgICBcclxuICAgIC8vIE9idGVuZXIgZWwgdXN1YXJpbyBhdXRlbnRpY2Fkb1xyXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE9idGVuZXIgbGEgb3JnYW5pemFjacOzbiB5IGVsIElEIGRlIHBlcmZpbCBkZWwgdXN1YXJpbyB2aWEgUlBDXHJcbiAgICBjb25zdCBbXHJcbiAgICAgIHsgZGF0YTogb3JnYW5pemF0aW9uSWQsIGVycm9yOiBvcmdFcnJvciB9LFxyXG4gICAgICB7IGRhdGE6IHByb2ZpbGVJZCwgZXJyb3I6IHByb2ZpbGVFcnJvciB9XHJcbiAgICBdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICBzdXBhYmFzZS5ycGMoJ2dldF91c2VyX29yZ19pZCcpLFxyXG4gICAgICBzdXBhYmFzZS5ycGMoJ2dldF91c2VyX3Byb2ZpbGVfaWQnKVxyXG4gICAgXSk7XHJcblxyXG4gICAgaWYgKG9yZ0Vycm9yIHx8ICFvcmdhbml6YXRpb25JZCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgcmV0cmlldmUgb3JnYW5pemF0aW9uIGZvciB1c2VyOicsIG9yZ0Vycm9yKVxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ09yZ2FuaXphdGlvbiBub3QgZm91bmQgZm9yIHVzZXIuJyB9LCB7IHN0YXR1czogNDAzIH0pXHJcbiAgICB9XHJcbiAgICBpZiAocHJvZmlsZUVycm9yIHx8ICFwcm9maWxlSWQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IHJldHJpZXZlIHByb2ZpbGUgSUQgZm9yIHVzZXI6JywgcHJvZmlsZUVycm9yKVxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VzZXIgcHJvZmlsZSBub3QgZm91bmQuJyB9LCB7IHN0YXR1czogNDAzIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gT2J0ZW5lciBlc3RhZG8gYWN0dWFsIGRlIGxhIHJlcGFyYWNpw7NuIGFudGVzIGRlIGFjdHVhbGl6YXJcclxuICAgIGNvbnN0IHsgZGF0YTogY3VycmVudFJlcGFpciwgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdyZXBhaXJzJylcclxuICAgICAgLnNlbGVjdCgnc3RhdHVzLCBjdXN0b21lcl9pZCwgZXN0aW1hdGVkX2Nvc3QsIGZpbmFsX2Nvc3QsIHRpdGxlLCBkZXZpY2VfaWQnKVxyXG4gICAgICAuZXEoJ2lkJywgcmVwYWlySWQpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgIGlmIChmZXRjaEVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfmqggRXJyb3IgZmV0Y2hpbmcgY3VycmVudCByZXBhaXIgc3RhdGU6JywgZmV0Y2hFcnJvcilcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdObyBzZSBwdWRvIGVuY29udHJhciBsYSByZXBhcmFjacOzbiBhIGFjdHVhbGl6YXInIH0sIHsgc3RhdHVzOiA0MDQgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgbGV0IHVwZGF0ZURhdGE6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7XHJcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDYXNvIDE6IEFjdHVhbGl6YWNpw7NuIHBhcmNpYWwgZGUgZXN0YWRvXHJcbiAgICBpZiAoYm9keS5zdGF0dXMgJiYgT2JqZWN0LmtleXMoYm9keSkubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFBlcmZvcm1pbmcgcGFydGlhbCBzdGF0dXMgdXBkYXRlIHRvOicsIGJvZHkuc3RhdHVzKVxyXG4gICAgICB1cGRhdGVEYXRhLnN0YXR1cyA9IGJvZHkuc3RhdHVzXHJcbiAgICB9IFxyXG4gICAgLy8gQ2FzbyAyOiBBY3R1YWxpemFjacOzbiBjb21wbGV0YSBkZWwgZm9ybXVsYXJpb1xyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OdIFBlcmZvcm1pbmcgZnVsbCBmb3JtIHVwZGF0ZScpXHJcbiAgICAgIC8vIFZhbGlkYWNpb25lcyBwYXJhIGFjdHVhbGl6YWNpw7NuIGNvbXBsZXRhXHJcbiAgICAgIGlmICghYm9keS50aXRsZSB8fCAhYm9keS5wcm9ibGVtX2Rlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgeyBlcnJvcjogJ1TDrXR1bG8geSBkZXNjcmlwY2nDs24gZGVsIHByb2JsZW1hIHNvbiBvYmxpZ2F0b3Jpb3MgcGFyYSB1bmEgYWN0dWFsaXphY2nDs24gY29tcGxldGEnIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICApXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIENvbnN0cnVpciBvYmpldG8gZGUgYWN0dWFsaXphY2nDs24gY29tcGxldGFcclxuICAgICAgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgICAuLi51cGRhdGVEYXRhLFxyXG4gICAgICAgIHRpdGxlOiBib2R5LnRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBib2R5LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHByb2JsZW1fZGVzY3JpcHRpb246IGJvZHkucHJvYmxlbV9kZXNjcmlwdGlvbixcclxuICAgICAgICBzb2x1dGlvbl9kZXNjcmlwdGlvbjogYm9keS5zb2x1dGlvbl9kZXNjcmlwdGlvbixcclxuICAgICAgICBzdGF0dXM6IGJvZHkuc3RhdHVzLFxyXG4gICAgICAgIHByaW9yaXR5OiBib2R5LnByaW9yaXR5LFxyXG4gICAgICAgIGVzdGltYXRlZF9jb3N0OiBib2R5LmVzdGltYXRlZF9jb3N0LFxyXG4gICAgICAgIGZpbmFsX2Nvc3Q6IGJvZHkuZmluYWxfY29zdCxcclxuICAgICAgICBlc3RpbWF0ZWRfY29tcGxldGlvbl9kYXRlOiBib2R5LmVzdGltYXRlZF9jb21wbGV0aW9uX2RhdGUsXHJcbiAgICAgICAgd2FycmFudHlfZGF5czogYm9keS53YXJyYW50eV9kYXlzLFxyXG4gICAgICAgIGludGVybmFsX25vdGVzOiBib2R5LmludGVybmFsX25vdGVzLFxyXG4gICAgICAgIGN1c3RvbWVyX25vdGVzOiBib2R5LmN1c3RvbWVyX25vdGVzXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTMOzZ2ljYSBkZSBmZWNoYXMgcGFyYSBjaWVydG9zIGVzdGFkb3NcclxuICAgIGlmICh1cGRhdGVEYXRhLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgfHwgdXBkYXRlRGF0YS5zdGF0dXMgPT09ICdkZWxpdmVyZWQnKSB7XHJcbiAgICAgIHVwZGF0ZURhdGEuYWN0dWFsX2NvbXBsZXRpb25fZGF0ZSA9IGJvZHkuYWN0dWFsX2NvbXBsZXRpb25fZGF0ZSB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH1cclxuICAgIGlmICh1cGRhdGVEYXRhLnN0YXR1cyA9PT0gJ2RlbGl2ZXJlZCcpIHtcclxuICAgICAgdXBkYXRlRGF0YS5kZWxpdmVyZWRfZGF0ZSA9IGJvZHkuZGVsaXZlcmVkX2RhdGUgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhOiByZXBhaXIsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgncmVwYWlycycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlRGF0YSlcclxuICAgICAgLmVxKCdpZCcsIHJlcGFpcklkKVxyXG4gICAgICAuZXEoJ29yZ2FuaXphdGlvbl9pZCcsIG9yZ2FuaXphdGlvbklkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpXHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfmqggRXJyb3IgdXBkYXRpbmcgcmVwYWlyOicsIGVycm9yKVxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0Vycm9yIGFsIGFjdHVhbGl6YXIgbGEgcmVwYXJhY2nDs24nLCBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygn4pyFIFJlcGFpciB1cGRhdGVkIHN1Y2Nlc3NmdWxseTonLCByZXBhaXIuaWQpXHJcblxyXG4gICAgY29uc3QgbmV3U3RhdHVzID0gYm9keS5zdGF0dXMgfHwgdXBkYXRlRGF0YS5zdGF0dXM7XHJcblxyXG4gICAgLy8gQWN0dWFsaXphciBlc3RhZG8gZGVsIGRpc3Bvc2l0aXZvIGFzb2NpYWRvXHJcbiAgICBpZiAoY3VycmVudFJlcGFpci5kZXZpY2VfaWQgJiYgbmV3U3RhdHVzKSB7XHJcbiAgICAgIGxldCBkZXZpY2VTdGF0dXM6IGFueTtcclxuICAgICAgc3dpdGNoIChuZXdTdGF0dXMpIHtcclxuICAgICAgICBjYXNlICdyZWNlaXZlZCc6XHJcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XHJcbiAgICAgICAgY2FzZSAnZGlhZ25vc2VkJzpcclxuICAgICAgICBjYXNlICdpbl9wcm9ncmVzcyc6XHJcbiAgICAgICAgICBkZXZpY2VTdGF0dXMgPSAnaW5fcmVwYWlyJztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3dhaXRpbmdfcGFydHMnOlxyXG4gICAgICAgICAgZGV2aWNlU3RhdHVzID0gJ2F3YWl0aW5nX3BhcnRzJztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XHJcbiAgICAgICAgICBkZXZpY2VTdGF0dXMgPSAncmVhZHlfZm9yX3BpY2t1cCc7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdkZWxpdmVyZWQnOlxyXG4gICAgICAgICAgZGV2aWNlU3RhdHVzID0gJ2RlbGl2ZXJlZCc7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdjYW5ub3RfYmVfcmVwYWlyZWQnOlxyXG4gICAgICAgIGNhc2UgJ2NhbmNlbGxlZCc6XHJcbiAgICAgICAgICAgIGRldmljZVN0YXR1cyA9ICdpcnJlcGFyYWJsZSc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBkZXZpY2VTdGF0dXMgPSBudWxsOyAvLyBObyBjYW1iaWFyIGVsIGVzdGFkbyBkZWwgZGlzcG9zaXRpdm9cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGRldmljZVN0YXR1cykge1xyXG4gICAgICAgIGNvbnN0IHsgZXJyb3I6IGRldmljZVVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ2RldmljZXMnKVxyXG4gICAgICAgICAgLnVwZGF0ZSh7IHN0YXR1czogZGV2aWNlU3RhdHVzIH0pXHJcbiAgICAgICAgICAuZXEoJ2lkJywgY3VycmVudFJlcGFpci5kZXZpY2VfaWQpXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGRldmljZVVwZGF0ZUVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfwn5qoIEVycm9yIHVwZGF0aW5nIGRldmljZSBzdGF0dXM6JywgZGV2aWNlVXBkYXRlRXJyb3IpXHJcbiAgICAgICAgICAvLyBObyBibG9xdWVhbW9zIGxhIHJlc3B1ZXN0YSBwb3IgZXN0bywgcGVybyBlcyBpbXBvcnRhbnRlIHJlZ2lzdHJhcmxvXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIERldmljZSAke2N1cnJlbnRSZXBhaXIuZGV2aWNlX2lkfSBzdGF0dXMgdXBkYXRlZCB0byAke2RldmljZVN0YXR1c31gKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNpIGxhIHJlcGFyYWNpw7NuIHNlIGFjYWJhIGRlIG1hcmNhciBjb21vICdjb21wbGV0ZWQnLCByZWdpc3RyYXIgbGEgdmVudGEuXHJcbiAgICBpZiAobmV3U3RhdHVzID09PSAnY29tcGxldGVkJyAmJiBjdXJyZW50UmVwYWlyLnN0YXR1cyAhPT0gJ2NvbXBsZXRlZCcpIHtcclxuICAgICAgY29uc3QgZmluYWxDb3N0ID0gYm9keS5maW5hbF9jb3N0IHx8IGN1cnJlbnRSZXBhaXIuZmluYWxfY29zdCB8fCBjdXJyZW50UmVwYWlyLmVzdGltYXRlZF9jb3N0IHx8IDA7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbU2FsZXNMb2ddIENoZWNraW5nIHJlcGFpciAke3JlcGFpci5pZH0uIFN0YXR1cyBjaGFuZ2VkIGZyb20gJHtjdXJyZW50UmVwYWlyLnN0YXR1c30gdG8gJHtuZXdTdGF0dXN9LmApXHJcbiAgICAgIGNvbnNvbGUubG9nKGBbU2FsZXNMb2ddIENhbGN1bGF0ZWQgZmluYWwgY29zdDogJHtmaW5hbENvc3R9LiAoQm9keTogJHtib2R5LmZpbmFsX2Nvc3R9LCBDdXJyZW50OiAke2N1cnJlbnRSZXBhaXIuZmluYWxfY29zdH0sIEVzdGltYXRlZDogJHtjdXJyZW50UmVwYWlyLmVzdGltYXRlZF9jb3N0fSlgKVxyXG5cclxuICAgICAgaWYgKGZpbmFsQ29zdCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgW1NhbGVzTG9nXSBDb3N0IGlzIHBvc2l0aXZlLiBDcmVhdGluZyBhIHNhbGVzIHJlY29yZCBmb3IgJHtmaW5hbENvc3R9Li4uYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgc2FsZURhdGEgPSB7XHJcbiAgICAgICAgICBvcmdhbml6YXRpb25faWQ6IG9yZ2FuaXphdGlvbklkLFxyXG4gICAgICAgICAgY3VzdG9tZXJfaWQ6IGN1cnJlbnRSZXBhaXIuY3VzdG9tZXJfaWQsXHJcbiAgICAgICAgICBjcmVhdGVkX2J5OiBwcm9maWxlSWQsXHJcbiAgICAgICAgICB0b3RhbDogZmluYWxDb3N0LFxyXG4gICAgICAgICAgcGF5bWVudF9tZXRob2Q6ICdvdGhlcicsIC8vIE8gdW4gdmFsb3IgcHJlZGV0ZXJtaW5hZG9cclxuICAgICAgICAgIHNhbGVfdHlwZTogJ3NlcnZpY2UnLFxyXG4gICAgICAgICAgbm90ZXM6IGBJbmdyZXNvIHBvciBSZXBhcmFjacOzbiAjJHtyZXBhaXIuaWR9OiAke2N1cnJlbnRSZXBhaXIudGl0bGUgfHwgJyd9YC50cmltKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnW1NhbGVzTG9nXSBTYWxlcyBkYXRhIHRvIGJlIGluc2VydGVkOicsIHNhbGVEYXRhKTtcclxuXHJcbiAgICAgICAgY29uc3QgeyBlcnJvcjogc2FsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ3NhbGVzJylcclxuICAgICAgICAgIC5pbnNlcnQoc2FsZURhdGEpO1xyXG5cclxuICAgICAgICBpZiAoc2FsZUVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfwn5qoIFtTYWxlc0xvZ10gRXJyb3IgY3JlYXRpbmcgc2FsZXMgcmVjb3JkIGZvciByZXBhaXI6Jywgc2FsZUVycm9yKTtcclxuICAgICAgICAgIC8vIE5vIGRldm9sdmVtb3MgdW4gZXJyb3IgYXF1w60gcGFyYSBubyBibG9xdWVhciBsYSBhY3R1YWxpemFjacOzbiBkZSBsYSByZXBhcmFjacOzbixcclxuICAgICAgICAgIC8vIHBlcm8gbG8gcmVnaXN0cmFtb3MgcGFyYSBwb2RlciBkZXB1cmFybG8uXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5KwIFtTYWxlc0xvZ10gU2FsZXMgcmVjb3JkIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5IGZvciByZXBhaXIgJHtyZXBhaXIuaWR9LmApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgW1NhbGVzTG9nXSBDb3N0IGlzIDAgb3IgbGVzcy4gTm8gc2FsZXMgcmVjb3JkIHdpbGwgYmUgY3JlYXRlZC5gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHJlcGFpclxyXG4gICAgfSlcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ/CfmqggVXBkYXRlIHJlcGFpciBlcnJvcjonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJywgZGV0YWlsczogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG4vLyBERUxFVEUgLSBFbGltaW5hciByZXBhcmFjacOzblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKFxyXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxyXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XHJcbikge1xyXG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpXHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTdXBhYmFzZUNsaWVudChjb29raWVTdG9yZSlcclxuICBjb25zdCByZXBhaXJJZCA9IHBhcmFtcy5pZFxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ/CflKcgRGVsZXRpbmcgcmVwYWlyOicsIHBhcmFtcy5pZClcclxuICAgIFxyXG4gICAgLy8gT2J0ZW5lciBlbCB1c3VhcmlvIGF1dGVudGljYWRvXHJcbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gT2J0ZW5lciBsYSBvcmdhbml6YWNpw7NuIGRlbCB1c3VhcmlvIHZpYSBSUENcclxuICAgIGNvbnN0IHsgZGF0YTogb3JnYW5pemF0aW9uSWQsIGVycm9yOiBvcmdFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdnZXRfdXNlcl9vcmdfaWQnKVxyXG5cclxuICAgIGlmIChvcmdFcnJvciB8fCAhb3JnYW5pemF0aW9uSWQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IHJldHJpZXZlIG9yZ2FuaXphdGlvbiBmb3IgdXNlcjonLCBvcmdFcnJvcilcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdPcmdhbml6YXRpb24gbm90IGZvdW5kIGZvciB1c2VyLicgfSwgeyBzdGF0dXM6IDQwMyB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdyZXBhaXJzJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCByZXBhaXJJZClcclxuICAgICAgLmVxKCdvcmdhbml6YXRpb25faWQnLCBvcmdhbml6YXRpb25JZClcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign8J+aqCBFcnJvciBkZWxldGluZyByZXBhaXI6JywgZXJyb3IpXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRXJyb3IgYWwgZWxpbWluYXIgbGEgcmVwYXJhY2nDs24nLCBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygn4pyFIFJlcGFpciBkZWxldGVkIHN1Y2Nlc3NmdWxseTonLCByZXBhaXJJZClcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnUmVwYXJhY2nDs24gZWxpbWluYWRhJyB9KVxyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign8J+aqCBEZWxldGUgcmVwYWlyIGVycm9yOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InLCBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgIClcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlU2VydmVyQ2xpZW50IiwiY29va2llcyIsImNyZWF0ZVN1cGFiYXNlQ2xpZW50IiwiY29va2llU3RvcmUiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJnZXQiLCJuYW1lIiwidmFsdWUiLCJzZXQiLCJvcHRpb25zIiwicmVtb3ZlIiwiZGVsZXRlIiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsInN1cGFiYXNlIiwicmVwYWlySWQiLCJpZCIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwidXNlciIsImF1dGgiLCJnZXRVc2VyIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwib3JnYW5pemF0aW9uSWQiLCJvcmdFcnJvciIsInJwYyIsInJlcGFpciIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImRldGFpbHMiLCJtZXNzYWdlIiwic3VjY2VzcyIsIkVycm9yIiwiUFVUIiwiYm9keSIsInByb2ZpbGVJZCIsInByb2ZpbGVFcnJvciIsIlByb21pc2UiLCJhbGwiLCJjdXJyZW50UmVwYWlyIiwiZmV0Y2hFcnJvciIsInVwZGF0ZURhdGEiLCJ1cGRhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInRpdGxlIiwicHJvYmxlbV9kZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwic29sdXRpb25fZGVzY3JpcHRpb24iLCJwcmlvcml0eSIsImVzdGltYXRlZF9jb3N0IiwiZmluYWxfY29zdCIsImVzdGltYXRlZF9jb21wbGV0aW9uX2RhdGUiLCJ3YXJyYW50eV9kYXlzIiwiaW50ZXJuYWxfbm90ZXMiLCJjdXN0b21lcl9ub3RlcyIsImFjdHVhbF9jb21wbGV0aW9uX2RhdGUiLCJkZWxpdmVyZWRfZGF0ZSIsInVwZGF0ZSIsIm5ld1N0YXR1cyIsImRldmljZV9pZCIsImRldmljZVN0YXR1cyIsImRldmljZVVwZGF0ZUVycm9yIiwiZmluYWxDb3N0Iiwic2FsZURhdGEiLCJvcmdhbml6YXRpb25faWQiLCJjdXN0b21lcl9pZCIsImNyZWF0ZWRfYnkiLCJ0b3RhbCIsInBheW1lbnRfbWV0aG9kIiwic2FsZV90eXBlIiwibm90ZXMiLCJ0cmltIiwic2FsZUVycm9yIiwiaW5zZXJ0IiwiREVMRVRFIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/repairs/[id]/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/isows","vendor-chunks/ramda","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frepairs%2F%5Bid%5D%2Froute&page=%2Fapi%2Frepairs%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frepairs%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();